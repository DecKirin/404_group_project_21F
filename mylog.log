DEBUG:root:{'type': 'author', 'id': '18828c13-4595-4093-86d7-8260d035a215', 'username': 'qqqq', 'profile_image': '', 'email': '123@gmail.com', 'first_name': 'qq', 'last_name': 'z', 'github': '', 'host': '127.0.0.1:8000', 'api_url': 'http://127.0.0.1:8000/api/author/18828c13-4595-4093-86d7-8260d035a215/'}
ERROR:django.request:Internal Server Error: /sentrequest/05465e54-c1d5-422d-85b0-f9aa053a32f5
Traceback (most recent call last):
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 98, in dispatch
    return handler(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/views.py", line 244, in get
    context['request_user'] = request_user.username
AttributeError: 'ReturnDict' object has no attribute 'username'
INFO:django.utils.autoreload:/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/views.py changed, reloading.
DEBUG:asyncio:Using selector: KqueueSelector
DEBUG:root:{'type': 'author', 'id': '18828c13-4595-4093-86d7-8260d035a215', 'username': 'qqqq', 'profile_image': '', 'email': '123@gmail.com', 'first_name': 'qq', 'last_name': 'z', 'github': '', 'host': '127.0.0.1:8000', 'api_url': 'http://127.0.0.1:8000/api/author/18828c13-4595-4093-86d7-8260d035a215/'}
ERROR:django.request:Internal Server Error: /sentrequest/05465e54-c1d5-422d-85b0-f9aa053a32f5
Traceback (most recent call last):
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 98, in dispatch
    return handler(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/views.py", line 244, in get
    context['request_user'] = request_user[username]
NameError: name 'username' is not defined
INFO:django.utils.autoreload:/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/views.py changed, reloading.
DEBUG:asyncio:Using selector: KqueueSelector
DEBUG:root:{'type': 'author', 'id': '18828c13-4595-4093-86d7-8260d035a215', 'username': 'qqqq', 'profile_image': '', 'email': '123@gmail.com', 'first_name': 'qq', 'last_name': 'z', 'github': '', 'host': '127.0.0.1:8000', 'api_url': 'http://127.0.0.1:8000/api/author/18828c13-4595-4093-86d7-8260d035a215/'}
ERROR:django.request:Internal Server Error: /sentrequest/05465e54-c1d5-422d-85b0-f9aa053a32f5
Traceback (most recent call last):
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/fields/__init__.py", line 2336, in to_python
    return uuid.UUID(**{input_form: value})
  File "/Users/qianqiu/anaconda3/lib/python3.8/uuid.py", line 166, in __init__
    hex = hex.replace('urn:', '').replace('uuid:', '')
AttributeError: 'dict' object has no attribute 'replace'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 98, in dispatch
    return handler(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/views.py", line 259, in post
    friend_request.accept_request()
  File "/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/models.py", line 74, in accept_request
    sender_friend, create_sender = Friend.objects.get_or_create(user=self.sender)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/query.py", line 573, in get_or_create
    return self.get(**kwargs), False
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/query.py", line 418, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/query.py", line 942, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/query.py", line 962, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/query.py", line 969, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1358, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1377, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1319, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/sql/query.py", line 1165, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/lookups.py", line 24, in __init__
    self.rhs = self.get_prep_lookup()
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/fields/related_lookups.py", line 117, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/fields/__init__.py", line 2320, in get_prep_value
    return self.to_python(value)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/db/models/fields/__init__.py", line 2338, in to_python
    raise exceptions.ValidationError(
django.core.exceptions.ValidationError: ["“{'type': 'author', 'id': '18828c13-4595-4093-86d7-8260d035a215', 'username': 'qqqq', 'profile_image': '', 'email': '123@gmail.com', 'first_name': 'qq', 'last_name': 'z', 'github': '', 'host': '127.0.0.1:8000', 'api_url': 'http://127.0.0.1:8000/api/author/18828c13-4595-4093-86d7-8260d035a215/'}” is not a valid UUID."]
DEBUG:asyncio:Using selector: KqueueSelector
ERROR:django.request:Internal Server Error: /sentrequest/05465e54-c1d5-422d-85b0-f9aa053a32f5
Traceback (most recent call last):
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/exception.py", line 47, in inner
    response = get_response(request)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/core/handlers/base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/venv/lib/python3.8/site-packages/django/views/generic/base.py", line 98, in dispatch
    return handler(request, *args, **kwargs)
  File "/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/views.py", line 263, in post
    friend_request.accept_request(request_friend, to_befriend_friend)
  File "/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/models.py", line 76, in accept_request
    receiver_friend.add_friend(self.sender)
AttributeError: 'tuple' object has no attribute 'add_friend'
INFO:django.utils.autoreload:/Users/qianqiu/Documents/CMPUT404/project/404_group_project_21F/friends/views.py changed, reloading.
DEBUG:asyncio:Using selector: KqueueSelector
